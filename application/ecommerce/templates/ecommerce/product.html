{% extends "global/base.html" %}

{% block content %}
<article class="product-card">

    {% if product.product_image %}
        <div class="card-cover-wrapper">
            <a href="{{ product.get_absolute_url }}" class="card-cover-link">      
                <img class="card-cover" loading="lazy" src="{{ product.product_image.url }}" alt="Imagem do produto {{ product.name }}">
            </a>
        </div>
    {% endif %}

    <div class="card-text-wrapper">
        <div class="card-title-wrapper">
            <h2 class="card-title">
                <a href="{{ product.get_absolute_url }}" class="card-title-link">
                    {{ product.name }}
                </a>
            </h2>
        </div>

        <div class="card-content-wrapper">
            <p class="card-content">
                {{ product.short_description }}
            </p>

            <div class="card-price">
                {% if product.promotional_price %}
                    <span class="original-price">R$ {{ product.price }}</span>
                    <span class="discounted-price">R$ {{ product.promotional_price }}</span>
                {% else %}
                    <span class="final-price">R$ {{ product.price }}</span>
                {% endif %}
            </div>

            <div class="card-actions">
                <a class="card-action-link" href="{% url "ecommerce:product" product.slug %}">
                    <span>Ver Produto</span>
                    <i class="fa-solid fa-circle-arrow-right"></i>
                </a>
                <a href="#" class="card-action-link cart-link">
                    <i class="fas fa-shopping-cart"></i>
                </a>
            </div>
        </div>
    </div>

</article>
{% endblock content %}

