{% extends "global/base.html" %}

{% block content %}
<div class="product-detail-container">

    <div class="product-main-info">
        <!-- Imagem do Produto -->
        <div class="product-image-wrapper">
            <img class="product-image" src="{{ product.product_image.url }}" alt="Imagem do produto {{ product.name }}">
        </div>

        <!-- Informações do Produto -->
        <div class="product-info">
            <h1 class="product-title">{{ product.name }}</h1>
            <p class="product-short-description">{{ product.short_description }}</p>

            <div class="product-price">
                {% if product.promotional_price %}
                    <span class="original-price">R$ {{ product.price }}</span>
                    <span class="discounted-price">R$ {{ product.promotional_price }}</span>
                {% else %}
                    <span class="final-price">R$ {{ product.price }}</span>
                {% endif %}
            </div>

            <label for="variation">Escolha uma variação:</label>
            <select id="variation" name="variation">
                {% for variation in product.productvariation_set.all %}
                    <option value="{{ variation.id }}">{{ variation.name }}</option>
                {% endfor %}
            </select>
            

            <!-- Botões de Ação -->
            <div class="product-actions">
                <a href="#" class="btn buy-now">
                    Comprar Agora
                </a>
                <a href="#" class="btn add-to-cart">
                    <i class="fas fa-shopping-cart"></i> Adicionar ao Carrinho
                </a>
            </div>
        </div>
    </div>

    <!-- Descrição Longa Agora Separada -->
    <div class="product-description">
        <p>{{ product.long_description }}</p>
    </div>

</div>
{% endblock %}

